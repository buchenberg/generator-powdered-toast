swagger: '2.0'
info:
  version: 0.1.0
  title: Spectrum API
  description: 'Spectrum billing, equipment, and member APIs'
basePath: /api/pub
schemes:
  - https
  - http
tags:
  - name: Billing
    description: Billing API
  - name: Equipment
    description: Equipment API
  - name: Devices
    description: Device API
  - name: Members
    description: Member API
consumes:
  - application/json; charset=utf-8
produces:
  - application/json; charset=utf-8
paths:
  '/billing/v1/account-info/{accountNumber}':
    get:
      description: Gets various info about this account used for billing functionality.
      tags:
        - Billing
      parameters:
        - name: accountNumber
          in: path
          required: true
          type: string
          description: Account number to look up
          x-example: 1234567
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/AccountInfo'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'
        '500':
          $ref: '#/responses/InternalServerError'
  /billing/v1/account-info:
    get:
      description: Gets various info about this account used for billing functionality.
      tags:
        - Billing
      parameters:
        - name: X-CHARTER-SESSION
          in: header
          description: Charter session ID
          required: false
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/AccountInfo'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'
        '500':
          $ref: '#/responses/InternalServerError'
  /billing/v1/call-details:
    get:
      description: Returns a list of phone call records
      tags:
        - Billing
      parameters:
        - name: X-CHARTER-SESSION
          in: header
          description: Charter session ID
          required: false
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/TransactionList'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'
        '500':
          $ref: '#/responses/InternalServerError'
  /billing/v1/check-duplicate:
    get:
      description: Checks if a payment is in the duplicate transaction cache.
      tags:
        - Billing
      parameters:
        - name: X-CHARTER-SESSION
          in: header
          description: Charter session ID
          required: false
          type: string
      responses:
        '200':
          $ref: '#/responses/CheckDuplicateTransactionResponse'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'
        '500':
          $ref: '#/responses/InternalServerError'
    put:
      description: Adds a payment to the duplicate transaction cache.
      tags:
        - Billing
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/CheckDuplicateTransactionRequest'
        - name: X-CHARTER-SESSION
          in: header
          description: Charter session ID
          required: false
          type: string
        - name: X-XSRF-TOKEN
          in: header
          description: Anti-XSRF token
          required: false
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/TxnInfo'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'
        '500':
          $ref: '#/responses/InternalServerError'
  '/billing/v1/payment-history/{accountNumber}':
    get:
      description: Gets the account payment history
      operationId: getPaymentHistory
      tags:
        - Billing
      parameters:
        - name: accountNumber
          in: path
          required: true
          type: string
          description: Account number to find history for
          x-example: 1234567
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/TransactionList'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'
        '500':
          $ref: '#/responses/InternalServerError'
  /billing/v1/payment-history:
    get:
      description: Gets the account payment history
      tags:
        - Billing
      parameters:
        - name: X-CHARTER-SESSION
          in: header
          description: Charter session ID
          required: false
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/TransactionList'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'
        '500':
          $ref: '#/responses/InternalServerError'
  /billing/v1/payments/autopay:
    delete:
      description: Cancels autopay enrollment
      tags:
        - Billing
      parameters:
        - name: X-CHARTER-SESSION
          in: header
          description: Charter session ID
          required: false
          type: string
        - name: X-XSRF-TOKEN
          in: header
          description: Anti-XSRF token
          required: false
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/TxnInfo'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'
        '412':
          description: 'The account is not enrolled in autopay, so no change was made.'
          schema:
            $ref: '#/definitions/Error'
        '500':
          $ref: '#/responses/InternalServerError'
  /billing/v1/pdf-statement/list:
    get:
      description: Lists the PDF statements available for download.
      tags:
        - Billing
      parameters:
        - name: X-CHARTER-SESSION
          in: header
          description: Charter session ID
          required: false
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/PdfStatementList'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'
        '500':
          $ref: '#/responses/InternalServerError'
  '/billing/v1/pdf-statement/{statementId}':
    get:
      description: Downloads a PDF statement
      tags:
        - Billing
      produces:
        - application/pdf
      parameters:
        - name: statementId
          in: path
          required: true
          type: string
          description: Statement ID to retrieve
          x-example: 1234567
        - name: X-CHARTER-SESSION
          in: header
          description: Charter session ID
          required: false
          type: string
      responses:
        '200':
          description: Success; response body will contain the PDF download
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'
        '500':
          $ref: '#/responses/InternalServerError'
  '/billing/v1/preferences/{accountNumber}':
    put:
      description: Update the user's billing preferences
      tags:
        - Billing
      parameters:
        - name: accountNumber
          in: path
          required: true
          type: string
          description: Account number to find history for
          x-example: 1234567
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/BillingPreferences'
        - name: X-CHARTER-SESSION
          in: header
          description: Charter session ID
          required: false
          type: string
        - name: X-XSRF-TOKEN
          in: header
          description: Anti-XSRF token
          required: false
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/TxnInfo'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'
        '500':
          $ref: '#/responses/InternalServerError'
  /billing/v1/preferences:
    put:
      description: Update the user's billing preferences
      tags:
        - Billing
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/BillingPreferences'
        - name: X-CHARTER-SESSION
          in: header
          description: Charter session ID
          required: false
          type: string
        - name: X-XSRF-TOKEN
          in: header
          description: Anti-XSRF token
          required: false
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/TxnInfo'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'
        '500':
          $ref: '#/responses/InternalServerError'
  /billing/v1/recent-transactions:
    get:
      description: Returns a list of recent transactions
      tags:
        - Billing
      parameters:
        - name: X-CHARTER-SESSION
          in: header
          description: Charter session ID
          required: false
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/TransactionList'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'
        '500':
          $ref: '#/responses/InternalServerError'
  /billing/v1/rules:
    get:
      description: >-
        Gets rules to support data-driven UI, such as which features are
        supported by the user's billing system
      tags:
        - Billing
      parameters:
        - name: X-CHARTER-SESSION
          in: header
          description: Charter session ID
          required: false
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/BillingRules'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'
        '500':
          $ref: '#/responses/InternalServerError'
  /billing/v1/sso:
    post:
      description: >-
        Generates an SSO cookie for PCI services, and redirects to the payment
        page
      tags:
        - Billing
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/RedirectTarget'
        - name: X-CHARTER-SESSION
          in: header
          description: Charter session ID
          required: false
          type: string
        - name: X-XSRF-TOKEN
          in: header
          description: Anti-XSRF token
          required: false
          type: string
      responses:
        '200':
          description: >-
            Success. Will include a cookie named "bpid" with session ID for
            calls to PCI service.
          schema:
            $ref: '#/definitions/PciSsoResponse'
        '400':
          description: Redirect target is null or empty.
          schema:
            $ref: '#/definitions/Error'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'
        '500':
          $ref: '#/responses/InternalServerError'
  '/billing/v1/summary/{accountNumber}':
    get:
      tags:
        - Billing
      description: Retrieves billing summary information from the most recent statement.
      parameters:
        - name: accountNumber
          in: path
          required: true
          type: string
          description: Account number to look up
          x-example: 1234567
        - name: X-CHARTER-SESSION
          in: header
          description: Charter session ID
          required: false
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Summary'
        '404':
          description: Account not found
          schema:
            $ref: '#/definitions/Error'
        '500':
          $ref: '#/responses/InternalServerError'
  /billing/v1/summary:
    get:
      tags:
        - Billing
      description: Retrieves billing summary information from the most recent statement.
      parameters:
        - name: X-CHARTER-SESSION
          in: header
          description: Charter session ID
          required: false
          type: string
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Summary'
        '404':
          description: Account not found
          schema:
            $ref: '#/definitions/Error'
        '500':
          $ref: '#/responses/InternalServerError'
  /deviceedge/devices/v3/BehindTheModem:
    get:
      summary: Returns whether a user is behind their Internet Modem
      tags:
        - Devices
      consumes:
        - text/plain
      parameters:
        - name: Cookie
          required: false
          in: header
          type: string
          x-title: Cookie
        - name: Referer
          required: false
          in: header
          type: string
          x-title: Referer
        - name: User-Agent
          required: false
          in: header
          x-example: >-
            Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36
            (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36
          type: string
          x-title: User-Agent
        - name: X-Xsrf-Token
          required: false
          in: header
          x-example: e7a73591901e8942
          type: string
          x-title: X-Xsrf-Token
        - name: ts
          required: false
          in: query
          x-example: '1489765110'
          type: string
          x-title: ts
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/BehindTheModem'
        '400':
          description: Redirect target is null or empty.
          schema:
            $ref: '#/definitions/Error'
        '401':
          $ref: '#/responses/Unauthorized'
        '403':
          $ref: '#/responses/Forbidden'
        '500':
          $ref: '#/responses/InternalServerError'
  '/equipment/v1/lob/{lineOfBusiness}':
    get:
      description: >-
        Retrieves the applicable equipment for the given line of business
        (Internet, TV, Voice)
      tags:
        - Equipment
      parameters:
        - name: lineOfBusiness
          in: path
          required: true
          type: string
          enum:
            - TV
            - Internet
            - Voice
          description: The Line of Business to look up
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/EquipmentInfoResponse'
        '401':
          $ref: '#/responses/NotAuthenticated'
        '404':
          $ref: '#/responses/NotFound'
        '500':
          $ref: '#/responses/InternalServerError'
  '/equipment/v1/signalStatus/{macAddress}':
    get:
      description: 'Retrieves the status of the cable modem device, based on mac address'
      tags:
        - Equipment
      parameters:
        - name: macAddress
          in: path
          required: true
          type: string
          description: The encrypted MAC address of a cable modem
          x-example: '00-14-22-01-23-45'
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/SignalStatusResponse'
        '400':
          $ref: '#/responses/BadRequest'
        '401':
          $ref: '#/responses/NotAuthenticated'
        '500':
          $ref: '#/responses/InternalServerError'
  '/equipment/v1/router/info/{macAddress}/{requestToken}':
    get:
      description: >-
        Retrieves the updated status of the wifi router device, based on mac
        address
      tags:
        - Equipment
      parameters:
        - name: macAddress
          in: path
          required: true
          type: string
          description: The encrypted MAC address of a TR-069 enabled router
          x-example: '00-14-22-01-23-45'
        - name: requestToken
          in: path
          required: true
          type: string
          description: >-
            An encrypted token supplied from a POST to the
            /router/info/{macAddress} endpoint
          x-example: 'hj24jhg4jhg43jhg4jh3g4j3hg4'
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/EquipmentInfoResponse'
        '400':
          $ref: '#/responses/BadRequest'
        '401':
          $ref: '#/responses/NotAuthenticated'
        '429':
          $ref: '#/responses/TooManyRequests'
        '500':
          $ref: '#/responses/InternalServerError'
  '/equipment/v1/router/info/{macAddress}':
    post:
      description: >-
        Retrieves the cached status of the wifi router device, based on mac
        address. Will return a token that can be used to poll for updated stats
      tags:
        - Equipment
      parameters:
        - name: macAddress
          in: path
          required: true
          type: string
          description: The encrypted MAC address of a TR-069 enabled router
          x-example: '00-14-22-01-23-45'
        - name: resetFlowParams
          in: query
          description: Indicates whether or not the given request is part of a reset flow
          required: true
          type: boolean
          x-example: 'false'
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/RouterInfoResponse'
        '400':
          $ref: '#/responses/BadRequest'
        '401':
          $ref: '#/responses/NotAuthenticated'
        '429':
          $ref: '#/responses/TooManyRequests'
        '500':
          $ref: '#/responses/InternalServerError'
  /member/v1/members:
    get:
      description: Looks up member data for criteria
      tags:
        - Members
      parameters:
        - name: guid
          in: query
          required: false
          type: string
          description: Guid for member. Required if username is not provided.
        - name: username
          in: query
          required: false
          type: string
          description: Username for member. Required if guid is not provided.
        - name: system
          in: query
          required: false
          description: System to search for member under
          type: string
          enum:
            - EMAIL
            - MSLOGIN
            - ONLINE
        - name: accountType
          in: query
          required: false
          description: Account type to search
          type: string
          enum:
            - RESIDENTIAL
            - COMMERCIAL
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/Member'
        '400':
          description: Request parameters incorrect
          schema:
            $ref: '#/definitions/ErrorMember'
        '404':
          description: Member was not found using given criteria
          schema:
            $ref: '#/definitions/ErrorMember'
        '500':
          description: Internal Server Error
          schema:
            $ref: '#/definitions/ErrorMember'
definitions:
  AccessPoint:
    properties:
      ssId:
        type: string
      securityMode:
        type: string
      password:
        type: string
      radios:
        type: array
        items:
          $ref: '#/definitions/Radio'
  AccountInfo:
    type: object
    properties:
      accountId:
        type: string
      billTo:
        $ref: '#/definitions/BillTo'
      paymentRestrictions:
        type: array
        items:
          $ref: '#/definitions/PaymentRestriction'
      autoPay:
        type: boolean
      paymentSubType:
        type: string
      paymentSubTypeStatus:
        type: string
      billDelivery:
        type: string
        enum:
          - PAPER
          - ONLINE
          - PAPER_AND_ONLINE
      currentAccountBalance:
        type: number
      statementDated:
        type: string
        format: date
      lastPaymentDate:
        type: string
        format: date
      lastPaymentAmount:
        type: number
      lastPaymentType:
        type: string
      lastPaymentSubtype:
        type: string
      lastPaymentNumber:
        type: string
      lastPaymentDatePosted:
        type: string
        format: date
      delinquencyStatus:
        type: string
        enum:
          - NOT_SPECIFIED
          - NORMAL
          - OPEN_NON_PAY_WITH_EQUIPMENT
          - VOLUNTARY_DISCONNECT
          - NON_PAY_DISCONNECT
          - PENDING_NON_PAY
          - PENDING_CHANGE_OF_SERVICE
          - PAY_PER_VIEW_RESTRICTED
          - DOWNGRADE_SERVICE
          - OPEN_VOLUNTARY_DISCONNECT
          - OPEN_NON_PAY_EQUIPMENT_DISABLED
          - CHARGED_OFF
          - NOT_AVAILABLE
      delinquencyAmount:
        type: number
      daysDelinquent:
        type: integer
        format: int32
      debitDate:
        type: string
        format: date
      primaryPhone:
        type: string
      secondaryPhone:
        type: string
      lastFailedPaymentDate:
        type: string
        format: date
      lastFailedPaymentReason:
        type: string
      nextStatement:
        type: string
        format: date
      paymentProcessDate:
        type: string
        format: date
      dueDate:
        type: string
        format: date
      currentDate:
        type: string
        format: date
      cycleDay:
        type: string
      nextCycleDate:
        type: string
        format: date
      serviceAddress:
        type: string
      autoPayCard:
        $ref: '#/definitions/Card'
      autoPayEft:
        $ref: '#/definitions/EFT'
      monetaryStatus:
        type: string
        enum:
          - NOT_SPECIFIED
          - NORMAL
          - DELINQUENT
          - CREDIT_ON_ACCOUNT
          - OVER_PAY_PER_VIEW_LIMIT
          - OVER_LIMIT_AND_DELINQUENT
          - NOT_AVAILABLE
      pendingPaymentAmount:
        type: number
      autoPayPending:
        type: boolean
        x-example: false
      autoPayLocked:
        type: boolean
        x-example: false
      autoPaySuspended:
        type: boolean
        x-example: false
      txnId:
        type: string
        description: Transaction ID
      timestamp:
        type: string
        format: date-time
    example:
      accountId: Uru
      billTo:
        name:
          salutation: Mr.
          first: John
          last: Customer
        address:
          addressLine1: 'N'
          addressLine2: buED
          city: lbNUBJ
          state: bLbrMzSVwV
          zip: rkwTkbHcheN
        serviceAddress:
          addressLine1: yrN
          addressLine2: iq
          city: mWl
          state: CAiP
          zip: nec
        contact:
          primary:
            email: ztruOeBVT
            phone: phFl
          user:
            email: jaEmwbyNU
            phone: AdnEiwdkhmT
        accountContact:
          email: R
          primaryPhone: vXyo
          secondaryPhone: gy
          companyName: LMyMVBw
        responsibleParty:
          salutation: qfibzwIum
          name: cZnrntj
          statementNameFormat: HntoUnLO
      paymentRestrictions:
        - type: Qy
          indicator: IET
      autoPay: false
      paymentSubType: syk
      paymentSubTypeStatus: pWyZguuNm
      billDelivery: PAPER_AND_ONLINE
      currentAccountBalance: 870150672325.0176
      statementDated: '2017-02-28'
      lastPaymentDate: '2017-02-28'
      lastPaymentAmount: 211037325570.8672
      lastPaymentType: spKLhhtm
      lastPaymentSubtype: DSkALRb
      lastPaymentNumber: yVqPdhfZuS
      lastPaymentDatePosted: '2017-02-28'
      delinquencyStatus: NORMAL
      delinquencyAmount: 504873372090.368
      daysDelinquent: 2572302042529792
      debitDate: '2017-02-28'
      primaryPhone: Jpiayhzi
      secondaryPhone: uta
      lastFailedPaymentDate: '2017-02-28'
      lastFailedPaymentReason: hJNYGQvf
      nextStatement: '2017-02-28'
      paymentProcessDate: '2017-02-28'
      dueDate: '2017-02-28'
      currentDate: '2017-02-28'
      cycleDay: uhNuZEYT
      serviceAddress: BBX
      autoPayCard:
        number: A
        type: Discover
        expirationDate: zWQxoVf
      autoPayEft:
        routingNumber: eldQYufoTj
        accountNumber: jlkZ
        accountType: Savings
      monetaryStatus: OVER_PAY_PER_VIEW_LIMIT
      pendingPaymentAmount: 544936189073.8176
      autoPayPending: true
      autoPayLocked: true
      txnId: jdKIxpXQpN
      timestamp: '2017-03-01T02:07:29.753Z'
  BillingPreferences:
    required:
      - billDelivery
    type: object
    properties:
      billDelivery:
        type: string
        enum:
          - PAPER
          - ONLINE
          - PAPER_AND_ONLINE
  BillingRules:
    type: object
    properties:
      minPayment:
        type: string
        description: Minimum payment allowed
      maxPayment:
        type: string
        description: Maximum payment allowed
      minFuturePaymentDate:
        type: string
        format: date
        description: Minimum date for scheduling a future-dated payment
      minCancelFuturePaymentDate:
        type: string
        format: date
        description: Minimum date for which a future-dated payment can be canceled
      eftAllowed:
        type: boolean
        description: Whether the biller supports EFT payments
      futurePaymentAllowed:
        type: boolean
        description: Whether the biller supports future-dated payments
      nameOnAccountRequired:
        type: boolean
        description: Whether the biller requires the name on account with payment requests
      partialAutoPayEditAllowed:
        type: boolean
        description: >-
          Whether the biller allows partial updates of AutoPay payment methods
          (e.g. sending only a new expiration date)
      txnId:
        type: string
        description: Transaction ID
      timestamp:
        type: string
        format: date-time
  BillTo:
    type: object
    properties:
      name:
        $ref: '#/definitions/BillToName'
      address:
        $ref: '#/definitions/BillToAddress'
      serviceAddress:
        $ref: '#/definitions/BillToAddress'
      contact:
        $ref: '#/definitions/BillToContact'
      accountContact:
        $ref: '#/definitions/BillToAccountContact'
      responsibleParty:
        $ref: '#/definitions/BillToResponsibleParty'
  BillToAccountContact:
    required:
      - companyName
      - email
      - primaryPhone
      - secondaryPhone
    type: object
    properties:
      email:
        type: string
      primaryPhone:
        type: string
      secondaryPhone:
        type: string
      companyName:
        type: string
  BillToAddress:
    required:
      - addressLine1
      - addressLine2
      - city
      - state
      - zip
    type: object
    properties:
      addressLine1:
        type: string
      addressLine2:
        type: string
      city:
        type: string
      state:
        type: string
      zip:
        type: string
  BillToContact:
    type: object
    required:
      - primary
      - user
    properties:
      primary:
        $ref: '#/definitions/BillToContactMember'
      user:
        $ref: '#/definitions/BillToContactMember'
  BillToContactMember:
    type: object
    required:
      - email
      - phone
    properties:
      email:
        type: string
      phone:
        type: string
  BillToName:
    type: object
    required:
      - salutation
      - first
      - last
    properties:
      salutation:
        type: string
      first:
        type: string
      last:
        type: string
  BillToResponsibleParty:
    type: object
    required:
      - salutation
      - name
      - statementNameFormat
    properties:
      salutation:
        type: string
      name:
        type: string
      statementNameFormat:
        type: string
  Card:
    type: object
    properties:
      number:
        type: string
        description: Last four digits of the card number
      type:
        type: string
        enum:
          - Visa
          - MasterCard
          - Discover
          - American Express
      expirationDate:
        type: string
        description: 'The expiration date, in format MM/YYYY'
  CheckDuplicateTransactionRequest:
    type: object
    required:
      - accountNumberLastFour
      - paymentType
      - amount
    properties:
      accountNumberLastFour:
        type: string
        description: Last four digits of the card or bank account number
        x-example: '9999'
      paymentType:
        type: string
        enum:
          - Card
          - EFT
        x-example: 'Card'
      amount:
        type: string
        description: Payment amount
        x-example: '1.00'
      date:
        type: string
        format: date
        description: Payment date
        x-example: '12-01-16'
    example:
      accountNumberLastFour: '9999'
      paymentType: 'Card'
      amount: '1.00'
      date: '12-01-16'
  CheckDuplicateTransaction:
    type: object
    properties:
      duplicateTransaction:
        type: boolean
        x-example: false
      txnId:
        type: string
        description: Transaction ID
      timestamp:
        type: string
        format: date-time
  EFT:
    type: object
    properties:
      routingNumber:
        type: string
        description: The routing number
      accountNumber:
        type: string
        description: Last four digits of the bank account number
      accountType:
        type: string
        enum:
          - Checking
          - Savings
  Equipment:
    properties:
      footprint:
        type: string
        enum:
          - CHTR
          - BHN
          - TWC
        description: >-
          The footprint that the equipment applies to. This will drive some UI
          functionality.
      nickName:
        type: string
        description: 'The nickname of the equipment, if any. May be null.'
      foundInCms:
        type: boolean
        description: Indicates if equipment information is available via the CMS
      equipmentDetails:
        $ref: '#/definitions/EquipmentDetails'
      routerDetails:
        $ref: '#/definitions/RouterDetails'
      equipmentImages:
        type: array
        items:
          $ref: '#/definitions/EquipmentImage'
  PaymentRestriction:
    type: object
    required:
      - type
      - indicator
    properties:
      type:
        type: string
      indicator:
        type: string
  PciSsoResponse:
    type: object
    required:
      - message
      - redirectUrl
    properties:
      message:
        type: string
      redirectUrl:
        type: string
      txnId:
        type: string
        description: Transaction ID
      timestamp:
        type: string
        format: date-time
  BehindTheModem:
    type: object
    required:
      - BehindTheModem
    properties:
      BehindTheModem:
        type: boolean
  PdfStatementList:
    type: object
    properties:
      statements:
        type: array
        items:
          $ref: '#/definitions/PdfStatement'
      txnId:
        type: string
        description: Transaction ID
      timestamp:
        type: string
        format: date-time
  PdfStatement:
    type: object
    required:
      - date
      - id
    properties:
      date:
        type: string
        format: date-time
      id:
        type: string
  Radio:
    properties:
      frequencyBand:
        type: string
      channel:
        type: string
      operatingStandards:
        type: string
  RedirectTarget:
    type: object
    required:
      - redirectTarget
    properties:
      redirectTarget:
        type: string
  RouterInfoResponse:
    properties:
      infoRequestToken:
        type: string
      statusUri:
        type: string
      pollStartDelaySec:
        type: string
      pollIntervalSec:
        type: string
      pollDurationSec:
        type: string
      equipment:
        type: array
        items:
          $ref: '#/definitions/Equipment'
      txnId:
        type: string
        description: Transaction ID
      timestamp:
        type: string
        format: date-time
  TransactionList:
    type: object
    required:
      - Transactions
    properties:
      Transactions:
        type: array
        items:
          $ref: '#/definitions/Transaction'
      txnId:
        type: string
        description: Transaction ID
      timestamp:
        type: string
        format: date-time
  Transaction:
    type: object
    properties:
      date:
        type: string
        format: date
      from:
        type: string
      time:
        type: string
        format: date-time
      called:
        type: string
      cityCalled:
        type: string
      stateCalled:
        type: string
      countryCalled:
        type: string
      rate:
        type: string
      minutes:
        type: string
      description:
        type: string
      datePosted:
        type: string
        format: date
      amount:
        type: number
      type:
        type: string
      paymentType:
        type: string
      paymentTypeDescription:
        type: string
      paymentNumber:
        type: string
      location:
        type: string
      status:
        type: string
      category:
        type: string
      lineOfBusinessStatus:
        type: string
      lineOfBusinessType:
        type: string
      pdfStatementId:
        type: string
      telephoneNumberId:
        type: string
      summaryDisplay:
        type: string
      subType:
        type: string
      timeZone:
        type: string
      billing:
        $ref: '#/definitions/TransactionBilling'
  TransactionBilling:
    type: object
    required:
      - from
      - thru
    properties:
      from:
        type: string
      thru:
        type: string
  EquipmentDetails:
    properties:
      category:
        type: string
      equipmentType:
        type: string
        description: 'The applicable business type for the equipment (Internet, TV, etc.)'
      equipmentSubType:
        type: string
        description: 'The applicable sub-type for the equipment (Modem, Router, DVR, etc.)'
      manufacturer:
        type: string
      model:
        type: string
      macAddress:
        type: string
        description: The MAC address for the equipment. This will generally be obfuscated.
      serialNumber:
        type: string
        description: >-
          The serial number for the equipment. This will generally be
          obfuscated.
      ownership:
        type: string
        description: This indicates who is the owner of the equipment.
      userManualLink:
        type: string
      supportLink:
        type: string
      wifiSpec:
        type: string
      docsisCapability:
        type: number
      defaultDevice:
        type: boolean
        x-example: false
      pending:
        type: boolean
        x-example: false
      converged:
        type: boolean
        x-example: false
        description: >-
          Indicates if the equipment is a converged device. This means that a
          single device is both a modem and an MTA
      resetModemLink:
        type: string
      phoneNumbers:
        type: array
        items:
          type: string
  EquipmentImage:
    properties:
      view:
        type: string
      original:
        type: string
      preview:
        type: string
      thumbnail:
        type: string
      icon:
        type: string
      description:
        type: string
  Error:
    type: object
    properties:
      message:
        type: string
        description: Error message
      code:
        type: string
        description: Error code
      status:
        type: integer
        format: int32
        description: HTTP status code
      txnId:
        type: string
        description: Transaction ID
      timestamp:
        type: string
        format: date-time
  TxnInfo:
    properties:
      txnId:
        type: string
        description: Transaction ID
      timestamp:
        type: string
        format: date-time
  EquipmentInfoResponse:
    type: object
    properties:
      equipment:
        type: array
        items:
          $ref: '#/definitions/Equipment'
      txnId:
        type: string
        description: Transaction ID
      timestamp:
        type: string
        format: date-time
  SignalStatusResponse:
    type: object
    properties:
      status:
        type: string
        enum:
          - RED
          - GREEN
          - UNAVAILABLE
      txnId:
        type: string
        description: Transaction ID
      timestamp:
        type: string
        format: date-time
  Member:
    type: object
    properties:
      timestamp:
        type: string
        format: date-time
      txnId:
        type: string
        description: Transaction ID for request
      accountId:
        type: string
        description: Member's account ID
      username:
        type: string
        description: Member's username
      guid:
        type: string
        description: Member's guid
      contactEmail:
        type: string
        description: Member's contact email
      contactFirstName:
        type: string
        description: Member's contact first name
      contactLastName:
        type: string
        description: Member's contact last name
      contactPhone:
        type: string
        description: Member's contact phone
      securityQuestion:
        type: string
        description: Security question used by member
      securityAnswer:
        type: string
        description: Security answer used by member
      role:
        $ref: '#/definitions/Role'
      accountType:
        description: Account type for member
        type: string
        enum:
          - RESIDENTIAL
          - COMMERCIAL
      systemType:
        description: System type member is in
        type: string
        enum:
          - EMAIL
          - MSLOGIN
          - ONLINE
      memberStatus:
        $ref: '#/definitions/MemberStatus'
      cpniCompliance:
        $ref: '#/definitions/CpniCompliance'
      converted:
        type: boolean
        description: Whether or not this member is converted
  Role:
    type: string
    enum:
      - PARENT
      - ADMIN
      - CHILD
      - BILLING
      - UNKNOWN
  RouterDetails:
    properties:
      deviceId:
        type: string
        description: the id that identifies this device with the TR-069 management sytem
      ipV4Address:
        type: string
      upTimeInSeconds:
        type: integer
      routerStatus:
        type: string
        enum:
          - ONLINE
          - PENDING
          - UNKNOWN
      lastInformTime:
        type: string
        description: the time at which the details were last updated
      revision:
        type: string
        description: the version revision of the router
      firmwareVersion:
        type: string
      accessPoints:
        type: array
        items:
          $ref: '#/definitions/AccessPoint'
  MemberStatus:
    type: string
    enum:
      - UNKNOWN
      - ACTIVE
      - LOCKED
      - RESERVED
      - ABUSE_SUSPEND_AGING
      - NONPAY_SUSPEND_AGING
      - DELETED_AGING
      - ARCHIVE
  CpniCompliance:
    type: string
    enum:
      - COMPLIANT
      - NON_COMPLIANT
      - UNKNOWN
  Summary:
    type: object
    properties:
      statementDate:
        type: string
        format: date
      servicePeriodFrom:
        type: string
        format: date
      servicePeriodThru:
        type: string
        format: date
      previousBalance:
        type: number
      paymentsReceived:
        type: number
      adjustments:
        type: number
      currentServices:
        type: number
      totalFees:
        type: number
      statementTotal:
        type: number
      statementDueDate:
        type: string
        format: date
      pdfStatementId:
        type: string
      currentBalance:
        type: number
  ErrorMember:
    type: object
    properties:
      timestamp:
        type: string
        format: date-time
      txnId:
        type: string
        description: Transaction ID for request
      message:
        type: string
        description: Error message
responses:
  CheckDuplicateTransactionResponse:
    description: Success
    schema:
      $ref: '#/definitions/CheckDuplicateTransaction'
  BadRequest:
    description: Malformed request (missing mac address)
    schema:
      $ref: '#/definitions/Error'
  TooManyRequests:
    description: Too many requests
    schema:
      $ref: '#/definitions/Error'
  Unauthorized:
    description: 'The user is not logged in, or the session is invalid.'
    schema:
      $ref: '#/definitions/Error'
  Forbidden:
    description: The logged-in user is not permitted to perform billing operations.
    schema:
      $ref: '#/definitions/Error'
  InternalServerError:
    description: Internal server error
    schema:
      $ref: '#/definitions/Error'
  NotFound:
    description: Not found
    schema:
      $ref: '#/definitions/Error'
  NotAuthenticated:
    description: Not Authenticated
    schema:
      $ref: '#/definitions/Error'
